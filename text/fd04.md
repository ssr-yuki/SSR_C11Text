---
title: <a href="index">SSR C11 Textbook</a>
description: 四則演算
---

[Back to the ToC](./../toc)
- - -

C言語では，電卓と同じように，四則演算を行うことができます．
しかし，数学ほど自由に記述はできません．
言語仕様で決められた，限られた表現の中で，欲しい計算結果を得る必要があります．
また，第2章で学んだ「型」というものも，計算結果に影響を与えます．
本章では，プログラムにおいてどのような四則演算ができ，どのような制約があるかを学んでいきます．

## オペレータとオペランド

算数や数学で利用する，足し算のプラス (`+`) や引き算のマイナス(`-`)のことを，**演算子**または**オペレータ** (operator)と呼びます．
また，「足される数」や「足す数」のような，演算の対象となるものを，**被演算子**または**オペランド** (operand) と呼びます．
特に，`1+2`のような複数のオペランドがある計算の場合，オペレータ左側の`1`を第一オペランド，オペレータ右側の`2`を第二オペランドと呼ぶことがあります．
これらの単語は，計算機科学の分野でよく使われますので，覚えておいて損はないでしょう．

それでは，実際のC言語の四則演算を見ていきましょう．
下表に，C言語で使うことのできる四則演算子をまとめています．
剰余演算子のみ，被演算子が共に整数型のときしか使えませんので注意しましょう．
それから，`0`で割り算を実行するのは厳禁です．

| 名前 | 記号 | 用法 | 演算の意味 |
| :--- | :--- | :--- | :--- |
| 加算演算子 |プラス (`+`) | `a + b` | `a`と`b`の和 |
| 減算演算子 | マイナス (`-`) | `a - b` | `a`と`b`の差 |
乗算演算子 | アスタリスク (`*`) | `a * b` | `a`と`b`の積 |
除算演算子 | スラッシュ (`/`) | `a / b` | `a`と`b`の商（`b`は非零） |
剰余演算子 | パーセント (`%`) | `a % b` | `a`を`b`で割った余り（`b`は非零） |

使い方は極めてシンプルです．
次の例を見てみましょう．
```c
#include <stdio.h>

int main(void) {
    int a = 10, b = 3;
    int c = a + b;
    printf("a + b = %d\n", c);
    c = a - b;
    printf("a - b = %d\n", c);
    c = a * b;
    printf("a * b = %d\n", c);
    c = a / b;
    printf("a / b = %d\n", c);
    c = a % b;
    printf("a %% b = %d\n", c);
    return 0;
}
```

このプログラムの出力は，次のようになります．

```c
a + b = 13
a - b = 7
a * b = 30
a / b = 3
a % b = 1
```

割り算の結果の違和感は，次の節で解説します．

なお，四則演算を利用は，必ずしも代入を必要としません．
例えば，`a + b`という足し算の結果を出力したいときは，わざわざ新たな変数`c`を使わずに，

```c
printf("a + b = \%d\n", a + b);
```

のように書くこともできます．
演算子は，使用された時点で演算を実行します．

### 演算の順序

C言語においても，四則演算には決まった順序が存在します．
四則演算に限れば，優先順位は数学とおよそ同じで，次のとおりです．

1. 小括弧で囲われた中の演算
2. 乗除算，剰余演算
3. 加減算

例えば，

```c
a = (2 + 3) * 5;
```

という計算をしたら，`a`には`25`という値が入ることになるわけです．
複雑な計算をさせるときは，小括弧を付け忘れないように気をつけましょう．

> 余談ですが，もっと細かい計算順序を決めたいときには，注意が必要です．
> もし
> 
> ```c
> a = (1 + 2) + (3 + 4);
> ```
> 
> のような処理をしようとしたとき，全体の計算結果は一意ですが，左の`1 + 2`と右の`3 + 4`の優先度は同列であり，どちらが先に実行されるのかはわかりません．
> 
> もしこれらに明確な順序付けを行いたい場合は，別の変数を予め用意する必要があります．
> 今回の例だと，変数`b, c}を用意して
> 
> ```c
> b = 1 + 2;
> c = 3 + 4;
> a = b + c;
> ```
> 
> のようにすれば，確実に`1+2}の方が先に計算されるようになります．

### 複合代入

プログラムを書いていくうちに，`a`の値を`b`だけ増やしたい，あるいは`a`の値を`b`倍にしたい，といった場面が生じてくることでしょう．
このとき，素直に

```c
a = a + b;  // a + bの結果をaへ代入
```

```c
a = a * b;  // a * bの結果をaへ代入
```

と書いても何ら問題ありません．
一方でC言語では，**複合代入** (compound assignment) と呼ばれる操作を行うことができます．
複合代入を用いることで，同じ処理を次のように略記することができます．

```c
a += b;  // a + bの結果をaへ代入
```
```c
a *= b;  // a * bの結果をaへ代入
```

四則演算に関する複合代入の演算子の一覧を，下表に示します．

| 名前 | 記号 | 用法 | 等価な演算 |
| :--- | :--- | :--- | :--- |
| 加算代入演算子 | `+=` | `a += b;` | `a = a + b;` |
| 減算代入演算子 | `-=` | `a -= b;` | `a = a - b;` |
| 乗算代入演算子 | `*=` | `a *= b;` | `a = a * b;` |
| 除算代入演算子 | `/=` | `a /= b;` | `a = a / b;` |
| 剰余代入演算子 | `%=` | `a %= b;` | `a = a % b;` |

- - -
[Back to the ToC](./../toc)

Previous: [変数と型](./fd03) / Next: [出力関数printf](./fd05)
- - - 
(c) 2017-2021 Yuki Onishi
