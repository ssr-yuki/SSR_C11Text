---
title: <a href="./../index">SSR C11 Textbook</a>
description: 出力関数printf
---

[Back to the ToC](./../toc)
- - -

これまで，変数の中身を覗くために，`printf`という名前の関数を使ってきました．
いよいよ本章では，この関数が何者なのかについて学んでいきます．

## ライブラリ

### 標準ライブラリ

C言語には，最低限の機能を利用するための，標準ライブラリと呼ばれるプログラム群が存在します．

プログラムにおける**ライブラリ** (library) とは， 汎用性の高い機能を提供するようなプログラムを，使いやすい形にまとめたものです．
ライブラリは自分で作ることもできますが，初めから言語の仕様で定められたライブラリがいくつか存在します．
それが標準ライブラリです．

### 標準ライブラリの利用

標準ライブラリを使うためには，標準ヘッダと呼ばれるファイルを読み込む必要があります．
それが，いままでのプログラムで最初の行に現れていた，`#include`から始まる1行です．

> ナンバーサイン(`#`)から始まる文はマクロと呼ばれ，[基礎編 第14回](./fd14)で扱います．

```c
// 標準ライブラリstdioを使うために，標準ヘッダファイルstdio.hを読み込む
#include <stdio.h>
```

C言語では，拡張子が`.h`のファイルをヘッダファイルと呼びます．
ヘッダファイルを読み込むことで，そのライブラリにどのような関数があるのかを，自分のプログラムに教えることができるのです．

本講習会で頻用するstdioは，標準の入出力を司るライブラリです．
入出力は，わかりやすい例だとファイルの読み書きなどが挙げられますが，今回のように文字を印字することも立派な出力の1つです．

## 出力printf

`printf`は，標準ライブラリstdioの中に実装された関数の1つで，端末への標準出力を行います．

今まで使ってきた，あるいはこれから使うように，文字や数字，変数の値などを表示することができます．
全角文字（日本語等）も，出力することができます．

```c
printf("表示させたい文字列");
```

### 書式指定子

変数の値を出力するには，一手間かける必要があります．
それが**書式指定子** (format specifier) です．

書式指定子は，変数の値をどのように出力するかを決定します．
計算機の中では変数は二進数で表現されているわけですが，それをそのまま二進数で表示するべきか，あるいは十進数で表示するべきか，計算機では判断することができません．
少数を小数点以下何桁まで表示するべきか……これについても同様です．
書式指定子は，そのような表示の設定を記述します．
次表が，基本となる書式指定子の一覧です．

| データ型 | 書式指定子 |
| :---: | :---: |
| `int`型 | `%d` |
| `float`型 | `%f` |
| `double`型 | `%lf%` |
| `char`型 | `%c` |
| 文字列型 | `%s` |
| `%`（パーセント記号） | `%%` |

書式指定子は，文字列の中で変数の値を表示させたい場所に，変数の代わりに入れます．
そして，表示させたい文字列を`"`で閉じた後，カンマで区切って変数の名前を記述します．
例えば

```c
int a = 3;
printf("a = %d", a);
```

とすることで，`a = 3`と，整数型の変数`a`の値を出力することができます．

> 実は，
> 
> ```c
> printf("a = %d", 3);
> ```
> 
> と書いても同じ出力結果が得られます．
> 変数かどうかよりも，その変数/定数が持つ値そのものが重要だということがわかります．

複数の変数を表示させたいときは，例えば

```c
int a = 3;
double b = 3.14
printf("a = %d, b = %lf", a, b);
```

のように，表示させたい文字列のあとに，書式指定子の数だけカンマ区切りで変数を並べればよいです．
書式指定子の順番と，変数を並べる順番の対応関係には厳密な規則が定められていますが，型が対応していることを確認して同じ順番に並べておけば，まず間違いありません．


- - -
[Back to the ToC](./../toc)

Previous: [四則演算](./fd04) / Next: [型修飾子と型変換](./fd06)
- - - 
(c) 2017-2021 Yuki Onishi
